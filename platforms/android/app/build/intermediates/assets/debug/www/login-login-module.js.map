{"version":3,"sources":["webpack:///./src/app/login/login.module.ts","webpack:///./src/app/login/login.page.html","webpack:///./src/app/login/login.page.scss","webpack:///./src/app/login/login.page.ts"],"names":[],"mappings":"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","file":"login-login-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Routes, RouterModule } from '@angular/router';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    ReactiveFormsModule\n  ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule {}\n","module.exports = \"<ion-toolbar color=\\\"dark\\\">\\n    <div class='center'>\\n      <ion-buttons slot=\\\"start\\\">\\n          <ion-back-button id=\\\"backButton\\\" defaultHref=\\\"/\\\"></ion-back-button> \\n      </ion-buttons>\\n    \\n    \\n        <img slot='secondary' (click)=\\\"goToAbout()\\\" class='logo-tf clickable' alt='logo Tango Fury' src=\\\"assets/img/logo-tangofury.png\\\"  >\\n    </div>\\n    \\n</ion-toolbar>\\n\\n<ion-content class='fg-content' padding>\\n  <div class='center header'>\\n      <h1>Welcome to Tango Fury</h1>\\n      <p>Please connect and discover new tango videos everyday</p>\\n  </div>\\n\\n  <ion-card>\\n    <ion-card-header class='card-menu'>\\n      <ion-icon name=\\\"person\\\"></ion-icon> Connexion\\n    </ion-card-header>\\n    <ion-card-content>\\n        <form [formGroup]=\\\"loginForm\\\" (submit)=\\\"loginUser()\\\" novalidate>\\n            <ion-item>\\n              <ion-label stacked>Email</ion-label>\\n              <ion-input formControlName=\\\"email\\\" type=\\\"email\\\" placeholder=\\\"Your email address\\\" [class.invalid]=\\\"!loginForm.controls.email.valid\\\"> </ion-input>\\n            </ion-item>\\n          \\n            <ion-item class=\\\"error-message\\\" *ngIf=\\\"!loginForm.controls.email.valid && loginForm.controls.email.touched\\\">\\n              <p>Please enter a valid email address.</p>\\n            </ion-item>\\n          \\n            <ion-item>\\n              <ion-label stacked>Password</ion-label>\\n              <ion-input formControlName=\\\"password\\\" type=\\\"password\\\" placeholder=\\\"Your password\\\" [class.invalid]=\\\"!loginForm.controls.password.valid\\\"> </ion-input>\\n            </ion-item>\\n          \\n            <ion-item class=\\\"error-message\\\" *ngIf=\\\"!loginForm.controls.password.valid && loginForm.controls.password.touched\\\">\\n              <p>Your password needs more than 6 characters.</p>\\n            </ion-item>\\n          \\n            <div class='center'>\\n                <ion-button  type=\\\"submit\\\" [disabled]=\\\"!loginForm.valid\\\"> Log In </ion-button>\\n                <ion-button  color=\\\"medium\\\" (click)=\\\"goToResetPassword()\\\"> I forgot my password :( </ion-button>\\n            </div>\\n            \\n          </form>\\n\\n    </ion-card-content>\\n    \\n  </ion-card>\\n    \\n  <div class='center'>\\n      <div class='or'>or</div>\\n      <p>If you are not already a member please<br/>\\n      <ion-button   block clear (click)=\\\"goToSignup()\\\"> Create a new account </ion-button>\\n      </p>\\n  </div>\\n</ion-content>\\n\"","module.exports = \"form {\\n  margin-bottom: 32px; }\\n  form button {\\n    margin-top: 20px !important; }\\n  p {\\n  font-size: 0.8em;\\n  color: #d2d2d2; }\\n  ion-label {\\n  margin-left: 5px; }\\n  ion-input {\\n  padding: 5px; }\\n  .invalid {\\n  border-bottom: 1px solid #ff6153; }\\n  .error-message {\\n  min-height: 2.2rem; }\\n  .error-message p {\\n    font-size: 60%; }\\n  .error-message ion-label {\\n    margin: 2px 0; }\\n  .error-message .item-inner {\\n    border-bottom: 0 !important; }\\n  .or {\\n  font-size: 2em;\\n  color: white;\\n  margin: 1em; }\\n  .header {\\n  color: white; }\\n  .header h1 {\\n    font-size: 2.5em; }\\n  .header p {\\n    font-size: 1.4em; }\\n\"","import { Component, OnInit , Inject} from '@angular/core';\nimport {  AlertController, LoadingController, NavController } from '@ionic/angular';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { EmailValidator } from '../validators/email';\nimport { AuthProvider } from '../services/auth/auth';\nimport { Router } from '@angular/router';\nimport { Subscription } from 'rxjs';\nimport { Platform } from '@ionic/angular';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n})\nexport class LoginPage implements OnInit {\n  public loginForm: FormGroup;\n  inscBackAction: Subscription;\n  element: HTMLElement;\n  \n  constructor(\n    private authProvider: AuthProvider,\n    private router : Router,\n    private loadingCtrl:LoadingController,\n    private alertCtrl : AlertController,\n    private formBuilder: FormBuilder,\n    public platform: Platform,\n  ) {\n    this.loginForm=this.formBuilder.group({\n      email:[\n        '',\n        Validators.compose([Validators.required, EmailValidator.isValid])\n      ],\n      password:[\n        '',\n        Validators.compose([Validators.required,Validators.minLength(6)])\n      ]\n    });\n  }\n\n  \n  goToSignup():void{\n    this.router.navigateByUrl(\"SignUp\");\n  }\n\n  goToResetPassword():void{\n    this.router.navigateByUrl(\"ResetPassword\");\n  }\n\n\n\n  ionViewDidLoad() {\n  }\n\n  goToAbout():void{\n    this.router.navigateByUrl(`about`);\n  }\n\n  async loginUser() {\n     if (!this.loginForm.valid) {\n       console.log( `Form is not valid yet, current value: ${this.loginForm.value}` );\n     } else {\n       const email = this.loginForm.value.email;\n       const password = this.loginForm.value.password;\n       this.authProvider.loginUser(email, password).then( authData => {\n          loading.dismiss().then(\n                        () => {\n                        window.location.replace('');\n                      });\n        }, error => {\n          loading.dismiss().then(\n                async () => { \n                let alert = await this.alertCtrl.create({ message: error.message, buttons: [{ text: 'Ok', role: 'cancel' }] });\n                alert.present();\n              });\n            }\n       );\n      let loading = await this.loadingCtrl.create({\n        message: 'Loading',\n      });\n      loading.present();\n      \n    } \n\n  }\n  \n\n  ngOnInit() {\n    this.inscBackAction = this.platform.backButton.subscribe(() => {\n      // Check this log in chrome: \"chrome://inspect/#devices\"             \n\n      this.element = document.getElementById('backButton') as HTMLElement;\n      this.element.click();\n      // OR\n      // this.router.navigate(['/anyPage']);\n\n    }, error => {\n      console.log('\\n\\nERROR:\\n' + error.message + '\\n\\n');\n    });\n  }\n\n}\n"],"sourceRoot":""}