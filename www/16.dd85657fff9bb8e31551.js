(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"1t1w":function(l,n,e){"use strict";var u=e("8Y7J"),t=e("oBZk"),i=e("ZZ/e"),o=e("SVse");e("46K1"),e("qyVB"),e("qNh5"),e("TpLW"),e("Rt4g"),e("B6Tt"),e.d(n,"a",function(){return c}),e.d(n,"b",function(){return x});var c=u.kb({encapsulation:0,styles:[[".text-video[_ngcontent-%COMP%]{margin-left:1em}.video-date[_ngcontent-%COMP%]{text-align:right}ion-item.video-seen[_ngcontent-%COMP%]{background:var(--fg-item-seen)}ion-item.video-unseen[_ngcontent-%COMP%], ion-item.video-unseen[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background:var(--fg-item-unseen)}h3[_ngcontent-%COMP%]{font-weight:700}"]],data:{}});function r(l){return u.Eb(0,[(l()(),u.mb(0,0,null,null,3,"ion-button",[["slot","end"]],null,[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.addPlaylistModal(l.parent.context.$implicit)&&u),u},t.O,t.d)),u.lb(1,49152,null,0,i.l,[u.h,u.k],null,null),(l()(),u.mb(2,0,null,0,1,"ion-icon",[["name","add-circle"]],null,null,null,t.cb,t.r)),u.lb(3,49152,null,0,i.D,[u.h,u.k],{name:[0,"name"]},null)],function(l,n){l(n,3,0,"add-circle")},null)}function a(l){return u.Eb(0,[(l()(),u.mb(0,0,null,null,3,"ion-button",[["slot","end"]],null,[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.actionVideo(l.parent.context.$implicit)&&u),u},t.O,t.d)),u.lb(1,49152,null,0,i.l,[u.h,u.k],null,null),(l()(),u.mb(2,0,null,0,1,"ion-icon",[["name","cog"]],null,null,null,t.cb,t.r)),u.lb(3,49152,null,0,i.D,[u.h,u.k],{name:[0,"name"]},null)],function(l,n){l(n,3,0,"cog")},null)}function s(l){return u.Eb(0,[(l()(),u.mb(0,0,null,null,22,"ion-item",[["lines","inset"]],null,null,null,t.gb,t.v)),u.lb(1,278528,null,0,o.i,[u.q,u.r,u.k,u.B],{ngClass:[0,"ngClass"]},null),u.lb(2,49152,null,0,i.I,[u.h,u.k],{color:[0,"color"],lines:[1,"lines"]},null),(l()(),u.mb(3,0,null,0,2,"ion-thumbnail",[["class","clickable"],["item-start",""]],null,[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.playVideo(l.context.$implicit)&&u),u},t.tb,t.I)),u.lb(4,49152,null,0,i.zb,[u.h,u.k],null,null),(l()(),u.mb(5,0,null,0,0,"img",[["class","image-video"]],[[8,"src",4]],null,null,null,null)),(l()(),u.mb(6,0,null,0,12,"ion-label",[["class","text-video clickable"],["text-wrap",""]],null,[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.playVideo(l.context.$implicit)&&u),u},t.hb,t.w)),u.lb(7,49152,null,0,i.O,[u.h,u.k],null,null),(l()(),u.mb(8,0,null,0,4,"ion-text",[],null,null,null,t.sb,t.H)),u.lb(9,49152,null,0,i.xb,[u.h,u.k],null,null),(l()(),u.mb(10,0,null,0,2,"h3",[],null,null,null,null,null)),(l()(),u.mb(11,0,null,null,1,"span",[["class","video-title"]],null,null,null,null,null)),(l()(),u.Cb(12,null,["",""])),(l()(),u.mb(13,0,null,0,5,"ion-text",[],null,null,null,t.sb,t.H)),u.lb(14,49152,null,0,i.xb,[u.h,u.k],null,null),(l()(),u.mb(15,0,null,0,3,"p",[],null,null,null,null,null)),(l()(),u.mb(16,0,null,null,2,"span",[["class","video-date"]],null,null,null,null,null)),(l()(),u.Cb(17,null,[""," ",""])),u.yb(18,2),(l()(),u.eb(16777216,null,0,1,null,r)),u.lb(20,16384,null,0,o.k,[u.M,u.J],{ngIf:[0,"ngIf"]},null),(l()(),u.eb(16777216,null,0,1,null,a)),u.lb(22,16384,null,0,o.k,[u.M,u.J],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,1,0,!0===n.context.$implicit.seen?"video-seen":"video-unseen"),l(n,2,0,!1===n.context.$implicit.seen?"medium":"light","inset"),l(n,20,0,"admin"==e.role||"user"==e.role),l(n,22,0,"admin"==e.role)},function(l,n){l(n,5,0,u.ob(1,"",n.context.$implicit.urlImage,"")),l(n,12,0,n.context.$implicit.title);var e=u.Db(n,17,0,l(n,18,0,u.wb(n.parent.parent,0),n.context.$implicit.datePublication,"dd/MM/yyyy"));l(n,17,0,e,n.context.$implicit.type)})}function b(l){return u.Eb(0,[(l()(),u.mb(0,0,null,null,2,"ion-item",[["text-wrap",""]],null,null,null,t.gb,t.v)),u.lb(1,49152,null,0,i.I,[u.h,u.k],null,null),(l()(),u.Cb(-1,0,[" No videos found. "]))],null,null)}function d(l){return u.Eb(0,[(l()(),u.mb(0,0,null,null,6,"div",[],null,null,null,null,null)),(l()(),u.mb(1,0,null,null,3,"ion-list",[],null,null,null,t.ib,t.x)),u.lb(2,49152,null,0,i.P,[u.h,u.k],null,null),(l()(),u.eb(16777216,null,0,1,null,s)),u.lb(4,278528,null,0,o.j,[u.M,u.J,u.q],{ngForOf:[0,"ngForOf"]},null),(l()(),u.eb(16777216,null,null,1,null,b)),u.lb(6,16384,null,0,o.k,[u.M,u.J],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,4,0,e.videos),l(n,6,0,1>e.videos.length)},null)}function m(l){return u.Eb(0,[(l()(),u.mb(0,0,null,null,4,"ion-button",[["clear",""],["expand","full"],["icon-start",""],["small",""]],null,[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.addPlaylistModal(l.parent.context.$implicit)&&u),u},t.O,t.d)),u.lb(1,49152,null,0,i.l,[u.h,u.k],{expand:[0,"expand"]},null),(l()(),u.mb(2,0,null,0,1,"ion-icon",[["name","add"]],null,null,null,t.cb,t.r)),u.lb(3,49152,null,0,i.D,[u.h,u.k],{name:[0,"name"]},null),(l()(),u.Cb(-1,0,[" Add to playlist "]))],function(l,n){l(n,1,0,"full"),l(n,3,0,"add")},null)}function p(l){return u.Eb(0,[(l()(),u.mb(0,0,null,null,4,"ion-button",[["clear",""],["color","dark"],["expand","full"],["icon-start",""],["small",""],["text-right",""]],null,[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.removeTopVideo(l.parent.parent.context.$implicit)&&u),u},t.O,t.d)),u.lb(1,49152,null,0,i.l,[u.h,u.k],{color:[0,"color"],expand:[1,"expand"]},null),(l()(),u.mb(2,0,null,0,1,"ion-icon",[["name","remove"]],null,null,null,t.cb,t.r)),u.lb(3,49152,null,0,i.D,[u.h,u.k],{name:[0,"name"]},null),(l()(),u.Cb(-1,0,[" remove "]))],function(l,n){l(n,1,0,"dark","full"),l(n,3,0,"remove")},null)}function v(l){return u.Eb(0,[(l()(),u.mb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),u.eb(16777216,null,null,1,null,p)),u.lb(2,16384,null,0,o.k,[u.M,u.J],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,2,0,"admin"==n.component.role)},null)}function f(l){return u.Eb(0,[(l()(),u.mb(0,0,null,null,4,"ion-button",[["clear",""],["color","dark"],["expand","full"],["icon-start",""],["small",""],["text-right",""]],null,[[null,"click"]],function(l,n,e){var u=!0,t=l.component;return"click"===n&&(u=!1!==t.removeVideoFromPlaylist(l.parent.parent.context.$implicit,t.playlist)&&u),u},t.O,t.d)),u.lb(1,49152,null,0,i.l,[u.h,u.k],{color:[0,"color"],expand:[1,"expand"]},null),(l()(),u.mb(2,0,null,0,1,"ion-icon",[["name","remove"]],null,null,null,t.cb,t.r)),u.lb(3,49152,null,0,i.D,[u.h,u.k],{name:[0,"name"]},null),(l()(),u.Cb(-1,0,[" remove "]))],function(l,n){l(n,1,0,"dark","full"),l(n,3,0,"remove")},null)}function h(l){return u.Eb(0,[(l()(),u.mb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),u.eb(16777216,null,null,1,null,f)),u.lb(2,16384,null,0,o.k,[u.M,u.J],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,2,0,"admin"==n.component.role)},null)}function g(l){return u.Eb(0,[(l()(),u.mb(0,0,null,null,20,"ion-col",[["size","12"],["size-lg","4"],["size-sm","6"],["size-xl","3"]],null,null,null,t.W,t.l)),u.lb(1,49152,null,0,i.u,[u.h,u.k],{size:[0,"size"]},null),(l()(),u.mb(2,0,null,0,18,"ion-card",[],null,null,null,t.U,t.f)),u.lb(3,49152,null,0,i.n,[u.h,u.k],null,null),(l()(),u.mb(4,0,null,0,0,"img",[["class","clickable"]],[[8,"src",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.playVideo(l.context.$implicit)&&u),u},null,null)),(l()(),u.mb(5,0,null,0,15,"ion-card-content",[],null,null,null,t.Q,t.g)),u.lb(6,49152,null,0,i.o,[u.h,u.k],null,null),(l()(),u.mb(7,0,null,0,3,"p",[["class","video-date"]],null,null,null,null,null)),(l()(),u.mb(8,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),u.Cb(9,null,[""," ",""])),u.yb(10,2),(l()(),u.mb(11,0,null,0,2,"ion-card-title",[["class","clickable"]],null,[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.playVideo(l.context.$implicit)&&u),u},t.T,t.j)),u.lb(12,49152,null,0,i.r,[u.h,u.k],null,null),(l()(),u.Cb(13,0,[" "," "])),(l()(),u.mb(14,0,null,0,2,"div",[],null,null,null,null,null)),(l()(),u.eb(16777216,null,null,1,null,m)),u.lb(16,16384,null,0,o.k,[u.M,u.J],{ngIf:[0,"ngIf"]},null),(l()(),u.eb(16777216,null,0,1,null,v)),u.lb(18,16384,null,0,o.k,[u.M,u.J],{ngIf:[0,"ngIf"]},null),(l()(),u.eb(16777216,null,0,1,null,h)),u.lb(20,16384,null,0,o.k,[u.M,u.J],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,1,0,"12"),l(n,16,0,"admin"==e.role||"user"==e.role),l(n,18,0,"playlist"!=e.display),l(n,20,0,"playlist"==e.display)},function(l,n){l(n,4,0,u.ob(1,"",n.context.$implicit.urlImage,""));var e=n.context.$implicit.type,t=u.Db(n,9,1,l(n,10,0,u.wb(n.parent.parent,0),n.context.$implicit.datePublication,"dd/MM/yyyy"));l(n,9,0,e,t),l(n,13,0,n.context.$implicit.title)})}function k(l){return u.Eb(0,[(l()(),u.mb(0,0,null,null,5,"ion-grid",[],null,null,null,t.ab,t.p)),u.lb(1,49152,null,0,i.B,[u.h,u.k],null,null),(l()(),u.mb(2,0,null,0,3,"ion-row",[],null,null,null,t.lb,t.A)),u.lb(3,49152,null,0,i.jb,[u.h,u.k],null,null),(l()(),u.eb(16777216,null,0,1,null,g)),u.lb(5,278528,null,0,o.j,[u.M,u.J,u.q],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,5,0,n.component.videos)},null)}function x(l){return u.Eb(0,[u.xb(0,o.d,[u.s]),(l()(),u.eb(16777216,null,null,1,null,d)),u.lb(2,16384,null,0,o.k,[u.M,u.J],{ngIf:[0,"ngIf"]},null),(l()(),u.eb(16777216,null,null,1,null,k)),u.lb(4,16384,null,0,o.k,[u.M,u.J],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,2,0,"classic"==e.display),l(n,4,0,"blocks"==e.display||"playlist"==e.display)},null)}},"46K1":function(l,n,e){"use strict";e.d(n,"a",function(){return i}),e("ZZ/e"),e("Rt4g"),e("TpLW"),e("B6Tt"),e("qNh5"),e("qyVB");var u=e("i5gD"),t=function(l,n,e,u){return new(e||(e=Promise))(function(t,i){function o(l){try{r(u.next(l))}catch(n){i(n)}}function c(l){try{r(u.throw(l))}catch(n){i(n)}}function r(l){l.done?t(l.value):new e(function(n){n(l.value)}).then(o,c)}r((u=u.apply(l,n||[])).next())})};class i{constructor(l,n,e,u,t,i,o,c,r){this.actionSheetCtrl=l,this.loadingCtrl=n,this.modalCtrl=e,this.videoService=u,this.authService=t,this.profileService=i,this.maestroService=o,this.playlistService=c,this.navCtrl=r,this.role="visitor",this.display="classic",this.playlist="",this.profileService.getUserRole().then(l=>{this.role=l})}playVideo(l){this.videoService.playVideo(l)}ngOnChanges(){}removeTopVideo(l){this.videoService.removeTopVideo(l),this.removeVideoFromList(l)}removeVideoFromPlaylist(l,n){this.playlistService.removeVideo(l,n),this.removeVideoFromList(l)}removeVideoFromList(l){var n=this.videos.indexOf(l);n>-1&&this.videos.splice(n,1)}addTopVideo(l){this.videoService.addTopVideo(l)}addPlaylistModal(l){return t(this,void 0,void 0,function*(){(yield this.modalCtrl.create({component:u.a,componentProps:{video:l}})).present()})}actionVideo(l){return t(this,void 0,void 0,function*(){var n=[{text:"Add to playlist",icon:"add",handler:()=>{this.addPlaylistModal(l)}}];"admin"==this.role&&n.push({text:"Add to Top videos",icon:"star",handler:()=>{this.videoService.addTopVideo(l)}},{text:"Define as tango",icon:"settings",handler:()=>{this.videoService.setType(l,"tango")}},{text:"Define as vals",icon:"settings",handler:()=>{this.videoService.setType(l,"vals")}},{text:"Define as milonga",icon:"settings",handler:()=>{this.videoService.setType(l,"milonga")}},{text:"Define as Lesson",icon:"settings",handler:()=>{this.videoService.setType(l,"lesson")}},{text:"Define as other video type",icon:"settings",handler:()=>{this.videoService.setType(l,"other")}},{text:"Delete",icon:"remove-circle",handler:()=>{this.removeVideoFromList(l),this.videoService.deleteVideo(l)}}),n.push({text:"Cancel",icon:"",handler:()=>{}}),(yield this.actionSheetCtrl.create({header:"Actions",buttons:n})).present()})}ngOnInit(){}}},FpPs:function(l,n,e){"use strict";e.r(n),e.d(n,"LastvideosPageModuleNgFactory",function(){return v});var u=e("8Y7J"),t=e("FW2D"),i=e("pMnS"),o=e("WIWR"),c=e("SVse"),r=e("s7LF"),a=e("ZZ/e"),s=e("MEWS"),b=e("19mU"),d=e("PpLr"),m=e("iInd"),p=e("SiGr"),v=u.jb(t.a,[],function(l){return u.tb([u.ub(512,u.j,u.Z,[[8,[i.a,o.a]],[3,u.j],u.v]),u.ub(4608,c.m,c.l,[u.s,[2,c.v]]),u.ub(4608,r.o,r.o,[]),u.ub(4608,a.c,a.c,[u.x,u.g]),u.ub(4608,a.Hb,a.Hb,[a.c,u.j,u.p,c.c]),u.ub(4608,a.Lb,a.Lb,[a.c,u.j,u.p,c.c]),u.ub(1073742336,c.b,c.b,[]),u.ub(1073742336,r.m,r.m,[]),u.ub(1073742336,r.e,r.e,[]),u.ub(1073742336,a.Eb,a.Eb,[]),u.ub(1073742336,s.a,s.a,[]),u.ub(1073742336,b.a,b.a,[]),u.ub(1073742336,d.a,d.a,[]),u.ub(1073742336,m.n,m.n,[[2,m.t],[2,m.m]]),u.ub(1073742336,t.a,t.a,[]),u.ub(1024,m.k,function(){return[[{path:"",component:p.a}]]},[])])})},MEWS:function(l,n,e){"use strict";e.d(n,"a",function(){return u});class u{}}}]);