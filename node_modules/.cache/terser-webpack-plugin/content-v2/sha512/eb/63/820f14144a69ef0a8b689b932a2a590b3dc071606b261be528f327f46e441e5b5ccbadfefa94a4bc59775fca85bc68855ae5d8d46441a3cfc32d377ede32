{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{\"1t1w\":function(l,n,e){\"use strict\";var t=e(\"8Y7J\"),i=e(\"oBZk\"),o=e(\"ZZ/e\"),u=e(\"SVse\");e(\"46K1\"),e(\"qyVB\"),e(\"qNh5\"),e(\"TpLW\"),e(\"Rt4g\"),e(\"B6Tt\"),e.d(n,\"a\",function(){return a}),e.d(n,\"b\",function(){return k});var a=t.kb({encapsulation:0,styles:[[\".text-video[_ngcontent-%COMP%]{margin-left:1em}.video-date[_ngcontent-%COMP%]{text-align:right}ion-item.video-seen[_ngcontent-%COMP%]{background:var(--fg-item-seen)}ion-item.video-unseen[_ngcontent-%COMP%], ion-item.video-unseen[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background:var(--fg-item-unseen)}h3[_ngcontent-%COMP%]{font-weight:700}\"]],data:{}});function s(l){return t.Eb(0,[(l()(),t.mb(0,0,null,null,3,\"ion-button\",[[\"slot\",\"end\"]],null,[[null,\"click\"]],function(l,n,e){var t=!0;return\"click\"===n&&(t=!1!==l.component.addPlaylistModal(l.parent.context.$implicit)&&t),t},i.O,i.d)),t.lb(1,49152,null,0,o.l,[t.h,t.k],null,null),(l()(),t.mb(2,0,null,0,1,\"ion-icon\",[[\"name\",\"add-circle\"]],null,null,null,i.cb,i.r)),t.lb(3,49152,null,0,o.D,[t.h,t.k],{name:[0,\"name\"]},null)],function(l,n){l(n,3,0,\"add-circle\")},null)}function r(l){return t.Eb(0,[(l()(),t.mb(0,0,null,null,3,\"ion-button\",[[\"slot\",\"end\"]],null,[[null,\"click\"]],function(l,n,e){var t=!0;return\"click\"===n&&(t=!1!==l.component.actionVideo(l.parent.context.$implicit)&&t),t},i.O,i.d)),t.lb(1,49152,null,0,o.l,[t.h,t.k],null,null),(l()(),t.mb(2,0,null,0,1,\"ion-icon\",[[\"name\",\"cog\"]],null,null,null,i.cb,i.r)),t.lb(3,49152,null,0,o.D,[t.h,t.k],{name:[0,\"name\"]},null)],function(l,n){l(n,3,0,\"cog\")},null)}function d(l){return t.Eb(0,[(l()(),t.mb(0,0,null,null,22,\"ion-item\",[[\"lines\",\"inset\"]],null,null,null,i.gb,i.v)),t.lb(1,278528,null,0,u.i,[t.q,t.r,t.k,t.B],{ngClass:[0,\"ngClass\"]},null),t.lb(2,49152,null,0,o.I,[t.h,t.k],{color:[0,\"color\"],lines:[1,\"lines\"]},null),(l()(),t.mb(3,0,null,0,2,\"ion-thumbnail\",[[\"class\",\"clickable\"],[\"item-start\",\"\"]],null,[[null,\"click\"]],function(l,n,e){var t=!0;return\"click\"===n&&(t=!1!==l.component.playVideo(l.context.$implicit)&&t),t},i.tb,i.I)),t.lb(4,49152,null,0,o.zb,[t.h,t.k],null,null),(l()(),t.mb(5,0,null,0,0,\"img\",[[\"class\",\"image-video\"]],[[8,\"src\",4]],null,null,null,null)),(l()(),t.mb(6,0,null,0,12,\"ion-label\",[[\"class\",\"text-video clickable\"],[\"text-wrap\",\"\"]],null,[[null,\"click\"]],function(l,n,e){var t=!0;return\"click\"===n&&(t=!1!==l.component.playVideo(l.context.$implicit)&&t),t},i.hb,i.w)),t.lb(7,49152,null,0,o.O,[t.h,t.k],null,null),(l()(),t.mb(8,0,null,0,4,\"ion-text\",[],null,null,null,i.sb,i.H)),t.lb(9,49152,null,0,o.xb,[t.h,t.k],null,null),(l()(),t.mb(10,0,null,0,2,\"h3\",[],null,null,null,null,null)),(l()(),t.mb(11,0,null,null,1,\"span\",[[\"class\",\"video-title\"]],null,null,null,null,null)),(l()(),t.Cb(12,null,[\"\",\"\"])),(l()(),t.mb(13,0,null,0,5,\"ion-text\",[],null,null,null,i.sb,i.H)),t.lb(14,49152,null,0,o.xb,[t.h,t.k],null,null),(l()(),t.mb(15,0,null,0,3,\"p\",[],null,null,null,null,null)),(l()(),t.mb(16,0,null,null,2,\"span\",[[\"class\",\"video-date\"]],null,null,null,null,null)),(l()(),t.Cb(17,null,[\"\",\" \",\"\"])),t.yb(18,2),(l()(),t.eb(16777216,null,0,1,null,s)),t.lb(20,16384,null,0,u.k,[t.M,t.J],{ngIf:[0,\"ngIf\"]},null),(l()(),t.eb(16777216,null,0,1,null,r)),t.lb(22,16384,null,0,u.k,[t.M,t.J],{ngIf:[0,\"ngIf\"]},null)],function(l,n){var e=n.component;l(n,1,0,!0===n.context.$implicit.seen?\"video-seen\":\"video-unseen\"),l(n,2,0,!1===n.context.$implicit.seen?\"medium\":\"light\",\"inset\"),l(n,20,0,\"admin\"==e.role||\"user\"==e.role),l(n,22,0,\"admin\"==e.role)},function(l,n){l(n,5,0,t.ob(1,\"\",n.context.$implicit.urlImage,\"\")),l(n,12,0,n.context.$implicit.title);var e=t.Db(n,17,0,l(n,18,0,t.wb(n.parent.parent,0),n.context.$implicit.datePublication,\"dd/MM/yyyy\"));l(n,17,0,e,n.context.$implicit.type)})}function c(l){return t.Eb(0,[(l()(),t.mb(0,0,null,null,2,\"ion-item\",[[\"text-wrap\",\"\"]],null,null,null,i.gb,i.v)),t.lb(1,49152,null,0,o.I,[t.h,t.k],null,null),(l()(),t.Cb(-1,0,[\" No videos found. \"]))],null,null)}function b(l){return t.Eb(0,[(l()(),t.mb(0,0,null,null,6,\"div\",[],null,null,null,null,null)),(l()(),t.mb(1,0,null,null,3,\"ion-list\",[],null,null,null,i.ib,i.x)),t.lb(2,49152,null,0,o.P,[t.h,t.k],null,null),(l()(),t.eb(16777216,null,0,1,null,d)),t.lb(4,278528,null,0,u.j,[t.M,t.J,t.q],{ngForOf:[0,\"ngForOf\"]},null),(l()(),t.eb(16777216,null,null,1,null,c)),t.lb(6,16384,null,0,u.k,[t.M,t.J],{ngIf:[0,\"ngIf\"]},null)],function(l,n){var e=n.component;l(n,4,0,e.videos),l(n,6,0,1>e.videos.length)},null)}function h(l){return t.Eb(0,[(l()(),t.mb(0,0,null,null,4,\"ion-button\",[[\"clear\",\"\"],[\"expand\",\"full\"],[\"icon-start\",\"\"],[\"small\",\"\"]],null,[[null,\"click\"]],function(l,n,e){var t=!0;return\"click\"===n&&(t=!1!==l.component.addPlaylistModal(l.parent.context.$implicit)&&t),t},i.O,i.d)),t.lb(1,49152,null,0,o.l,[t.h,t.k],{expand:[0,\"expand\"]},null),(l()(),t.mb(2,0,null,0,1,\"ion-icon\",[[\"name\",\"add\"]],null,null,null,i.cb,i.r)),t.lb(3,49152,null,0,o.D,[t.h,t.k],{name:[0,\"name\"]},null),(l()(),t.Cb(-1,0,[\" Add to playlist \"]))],function(l,n){l(n,1,0,\"full\"),l(n,3,0,\"add\")},null)}function p(l){return t.Eb(0,[(l()(),t.mb(0,0,null,null,4,\"ion-button\",[[\"clear\",\"\"],[\"color\",\"dark\"],[\"expand\",\"full\"],[\"icon-start\",\"\"],[\"small\",\"\"],[\"text-right\",\"\"]],null,[[null,\"click\"]],function(l,n,e){var t=!0;return\"click\"===n&&(t=!1!==l.component.removeTopVideo(l.parent.parent.context.$implicit)&&t),t},i.O,i.d)),t.lb(1,49152,null,0,o.l,[t.h,t.k],{color:[0,\"color\"],expand:[1,\"expand\"]},null),(l()(),t.mb(2,0,null,0,1,\"ion-icon\",[[\"name\",\"remove\"]],null,null,null,i.cb,i.r)),t.lb(3,49152,null,0,o.D,[t.h,t.k],{name:[0,\"name\"]},null),(l()(),t.Cb(-1,0,[\" remove \"]))],function(l,n){l(n,1,0,\"dark\",\"full\"),l(n,3,0,\"remove\")},null)}function v(l){return t.Eb(0,[(l()(),t.mb(0,0,null,null,2,\"div\",[],null,null,null,null,null)),(l()(),t.eb(16777216,null,null,1,null,p)),t.lb(2,16384,null,0,u.k,[t.M,t.J],{ngIf:[0,\"ngIf\"]},null)],function(l,n){l(n,2,0,\"admin\"==n.component.role)},null)}function m(l){return t.Eb(0,[(l()(),t.mb(0,0,null,null,4,\"ion-button\",[[\"clear\",\"\"],[\"color\",\"dark\"],[\"expand\",\"full\"],[\"icon-start\",\"\"],[\"small\",\"\"],[\"text-right\",\"\"]],null,[[null,\"click\"]],function(l,n,e){var t=!0,i=l.component;return\"click\"===n&&(t=!1!==i.removeVideoFromPlaylist(l.parent.parent.context.$implicit,i.playlist)&&t),t},i.O,i.d)),t.lb(1,49152,null,0,o.l,[t.h,t.k],{color:[0,\"color\"],expand:[1,\"expand\"]},null),(l()(),t.mb(2,0,null,0,1,\"ion-icon\",[[\"name\",\"remove\"]],null,null,null,i.cb,i.r)),t.lb(3,49152,null,0,o.D,[t.h,t.k],{name:[0,\"name\"]},null),(l()(),t.Cb(-1,0,[\" remove \"]))],function(l,n){l(n,1,0,\"dark\",\"full\"),l(n,3,0,\"remove\")},null)}function f(l){return t.Eb(0,[(l()(),t.mb(0,0,null,null,2,\"div\",[],null,null,null,null,null)),(l()(),t.eb(16777216,null,null,1,null,m)),t.lb(2,16384,null,0,u.k,[t.M,t.J],{ngIf:[0,\"ngIf\"]},null)],function(l,n){l(n,2,0,\"admin\"==n.component.role)},null)}function y(l){return t.Eb(0,[(l()(),t.mb(0,0,null,null,20,\"ion-col\",[[\"size\",\"12\"],[\"size-lg\",\"4\"],[\"size-sm\",\"6\"],[\"size-xl\",\"3\"]],null,null,null,i.W,i.l)),t.lb(1,49152,null,0,o.u,[t.h,t.k],{size:[0,\"size\"]},null),(l()(),t.mb(2,0,null,0,18,\"ion-card\",[],null,null,null,i.U,i.f)),t.lb(3,49152,null,0,o.n,[t.h,t.k],null,null),(l()(),t.mb(4,0,null,0,0,\"img\",[[\"class\",\"clickable\"]],[[8,\"src\",4]],[[null,\"click\"]],function(l,n,e){var t=!0;return\"click\"===n&&(t=!1!==l.component.playVideo(l.context.$implicit)&&t),t},null,null)),(l()(),t.mb(5,0,null,0,15,\"ion-card-content\",[],null,null,null,i.Q,i.g)),t.lb(6,49152,null,0,o.o,[t.h,t.k],null,null),(l()(),t.mb(7,0,null,0,3,\"p\",[[\"class\",\"video-date\"]],null,null,null,null,null)),(l()(),t.mb(8,0,null,null,2,\"span\",[],null,null,null,null,null)),(l()(),t.Cb(9,null,[\"\",\" \",\"\"])),t.yb(10,2),(l()(),t.mb(11,0,null,0,2,\"ion-card-title\",[[\"class\",\"clickable\"]],null,[[null,\"click\"]],function(l,n,e){var t=!0;return\"click\"===n&&(t=!1!==l.component.playVideo(l.context.$implicit)&&t),t},i.T,i.j)),t.lb(12,49152,null,0,o.r,[t.h,t.k],null,null),(l()(),t.Cb(13,0,[\" \",\" \"])),(l()(),t.mb(14,0,null,0,2,\"div\",[],null,null,null,null,null)),(l()(),t.eb(16777216,null,null,1,null,h)),t.lb(16,16384,null,0,u.k,[t.M,t.J],{ngIf:[0,\"ngIf\"]},null),(l()(),t.eb(16777216,null,0,1,null,v)),t.lb(18,16384,null,0,u.k,[t.M,t.J],{ngIf:[0,\"ngIf\"]},null),(l()(),t.eb(16777216,null,0,1,null,f)),t.lb(20,16384,null,0,u.k,[t.M,t.J],{ngIf:[0,\"ngIf\"]},null)],function(l,n){var e=n.component;l(n,1,0,\"12\"),l(n,16,0,\"admin\"==e.role||\"user\"==e.role),l(n,18,0,\"playlist\"!=e.display),l(n,20,0,\"playlist\"==e.display)},function(l,n){l(n,4,0,t.ob(1,\"\",n.context.$implicit.urlImage,\"\"));var e=n.context.$implicit.type,i=t.Db(n,9,1,l(n,10,0,t.wb(n.parent.parent,0),n.context.$implicit.datePublication,\"dd/MM/yyyy\"));l(n,9,0,e,i),l(n,13,0,n.context.$implicit.title)})}function g(l){return t.Eb(0,[(l()(),t.mb(0,0,null,null,5,\"ion-grid\",[],null,null,null,i.ab,i.p)),t.lb(1,49152,null,0,o.B,[t.h,t.k],null,null),(l()(),t.mb(2,0,null,0,3,\"ion-row\",[],null,null,null,i.lb,i.A)),t.lb(3,49152,null,0,o.jb,[t.h,t.k],null,null),(l()(),t.eb(16777216,null,0,1,null,y)),t.lb(5,278528,null,0,u.j,[t.M,t.J,t.q],{ngForOf:[0,\"ngForOf\"]},null)],function(l,n){l(n,5,0,n.component.videos)},null)}function k(l){return t.Eb(0,[t.xb(0,u.d,[t.s]),(l()(),t.eb(16777216,null,null,1,null,b)),t.lb(2,16384,null,0,u.k,[t.M,t.J],{ngIf:[0,\"ngIf\"]},null),(l()(),t.eb(16777216,null,null,1,null,g)),t.lb(4,16384,null,0,u.k,[t.M,t.J],{ngIf:[0,\"ngIf\"]},null)],function(l,n){var e=n.component;l(n,2,0,\"classic\"==e.display),l(n,4,0,\"blocks\"==e.display||\"playlist\"==e.display)},null)}},\"46K1\":function(l,n,e){\"use strict\";e.d(n,\"a\",function(){return o}),e(\"ZZ/e\"),e(\"Rt4g\"),e(\"TpLW\"),e(\"B6Tt\"),e(\"qNh5\"),e(\"qyVB\");var t=e(\"i5gD\"),i=function(l,n,e,t){return new(e||(e=Promise))(function(i,o){function u(l){try{s(t.next(l))}catch(n){o(n)}}function a(l){try{s(t.throw(l))}catch(n){o(n)}}function s(l){l.done?i(l.value):new e(function(n){n(l.value)}).then(u,a)}s((t=t.apply(l,n||[])).next())})};class o{constructor(l,n,e,t,i,o,u,a,s){this.actionSheetCtrl=l,this.loadingCtrl=n,this.modalCtrl=e,this.videoService=t,this.authService=i,this.profileService=o,this.maestroService=u,this.playlistService=a,this.navCtrl=s,this.role=\"visitor\",this.display=\"classic\",this.playlist=\"\",this.profileService.getUserRole().then(l=>{this.role=l})}playVideo(l){this.videoService.playVideo(l)}ngOnChanges(){}removeTopVideo(l){this.videoService.removeTopVideo(l),this.removeVideoFromList(l)}removeVideoFromPlaylist(l,n){this.playlistService.removeVideo(l,n),this.removeVideoFromList(l)}removeVideoFromList(l){var n=this.videos.indexOf(l);n>-1&&this.videos.splice(n,1)}addTopVideo(l){this.videoService.addTopVideo(l)}addPlaylistModal(l){return i(this,void 0,void 0,function*(){(yield this.modalCtrl.create({component:t.a,componentProps:{video:l}})).present()})}actionVideo(l){return i(this,void 0,void 0,function*(){var n=[{text:\"Add to playlist\",icon:\"add\",handler:()=>{this.addPlaylistModal(l)}}];\"admin\"==this.role&&n.push({text:\"Add to Top videos\",icon:\"star\",handler:()=>{this.videoService.addTopVideo(l)}},{text:\"Define as tango\",icon:\"settings\",handler:()=>{this.videoService.setType(l,\"tango\")}},{text:\"Define as vals\",icon:\"settings\",handler:()=>{this.videoService.setType(l,\"vals\")}},{text:\"Define as milonga\",icon:\"settings\",handler:()=>{this.videoService.setType(l,\"milonga\")}},{text:\"Define as Lesson\",icon:\"settings\",handler:()=>{this.videoService.setType(l,\"lesson\")}},{text:\"Define as other video type\",icon:\"settings\",handler:()=>{this.videoService.setType(l,\"other\")}},{text:\"Delete\",icon:\"remove-circle\",handler:()=>{this.removeVideoFromList(l),this.videoService.deleteVideo(l)}}),n.push({text:\"Cancel\",icon:\"\",handler:()=>{}}),(yield this.actionSheetCtrl.create({header:\"Actions\",buttons:n})).present()})}ngOnInit(){}}},MEWS:function(l,n,e){\"use strict\";e.d(n,\"a\",function(){return t});class t{}},PpLr:function(l,n,e){\"use strict\";e.d(n,\"a\",function(){return t});class t{}},peAJ:function(l,n,e){\"use strict\";e.r(n),e.d(n,\"PlaylistPageModuleNgFactory\",function(){return p});var t=e(\"8Y7J\"),i=e(\"lxt6\"),o=e(\"pMnS\"),u=e(\"d/fU\"),a=e(\"SVse\"),s=e(\"s7LF\"),r=e(\"ZZ/e\"),d=e(\"iInd\"),c=e(\"MEWS\"),b=e(\"PpLr\"),h=e(\"Izuc\"),p=t.jb(i.a,[],function(l){return t.tb([t.ub(512,t.j,t.Z,[[8,[o.a,u.a]],[3,t.j],t.v]),t.ub(4608,a.m,a.l,[t.s,[2,a.v]]),t.ub(4608,s.o,s.o,[]),t.ub(4608,r.c,r.c,[t.x,t.g]),t.ub(4608,r.Hb,r.Hb,[r.c,t.j,t.p,a.c]),t.ub(4608,r.Lb,r.Lb,[r.c,t.j,t.p,a.c]),t.ub(1073742336,a.b,a.b,[]),t.ub(1073742336,s.m,s.m,[]),t.ub(1073742336,s.e,s.e,[]),t.ub(1073742336,r.Eb,r.Eb,[]),t.ub(1073742336,d.n,d.n,[[2,d.t],[2,d.m]]),t.ub(1073742336,c.a,c.a,[]),t.ub(1073742336,b.a,b.a,[]),t.ub(1073742336,i.a,i.a,[]),t.ub(1024,d.k,function(){return[[{path:\"\",component:h.a}]]},[])])})},qyVB:function(l,n,e){\"use strict\";e.d(n,\"a\",function(){return r});var t=e(\"ZZ/e\"),i=e(\"iqUP\"),o=e(\"TpLW\"),u=e(\"Rt4g\"),a=e(\"8Y7J\"),s=function(l,n,e,t){return new(e||(e=Promise))(function(i,o){function u(l){try{s(t.next(l))}catch(n){o(n)}}function a(l){try{s(t.throw(l))}catch(n){o(n)}}function s(l){l.done?i(l.value):new e(function(n){n(l.value)}).then(u,a)}s((t=t.apply(l,n||[])).next())})};class r{constructor(l,n,e,t){this.loadingCtrl=l,this.profileService=n,this.maestroService=e,this.platform=t,this.videos=new Array,this.topVideos=[],this.allVideos=[],this.allMilongas=[],this.allVals=[],this.allOthers=[],this.allLessons=[],this.limitOffset=24}launchVideo(l){window.open(\"https://www.youtube.com/watch?v=\"+l.youtubeId)}getVideos(l,n=\"\",e=0,t=!1){return new Promise(o=>{if(null==l)if(null==n)if(1==t)var u=i.database().ref(\"/videos\").orderByChild(\"topVideo\").equalTo(1).limitToLast(e+24);else u=i.database().ref(\"/videos\").orderByChild(\"datePublication\").limitToLast(e+24);else u=i.database().ref(\"/videos\").orderByChild(\"type\").equalTo(n).limitToLast(e+24);else u=null==n?i.database().ref(\"maestros/\"+l.key+\"/videos\").orderByChild(\"datePublication\").limitToLast(e+24):i.database().ref(\"maestros/\"+l.key+\"/videos\").orderByChild(\"type\").equalTo(n).limitToLast(e+24);var a=this.profileService.getVideosWatched();u.once(\"value\").then(l=>{let n=[];l.forEach(function(l){var e={key:l.key,id:l.child(\"id\").val(),title:l.child(\"title\").val(),youtubeId:l.child(\"youtubeId\").val(),urlImage:l.child(\"urlImage\").val(),datePublication:l.child(\"datePublication\").val(),description:l.child(\"description\").val(),importUser:l.child(\"importUser\").val(),topVideo:l.child(\"topVideo\").val(),type:l.child(\"type\").val(),valid:l.child(\"valid\").val(),dateAdd:l.child(\"dateAdd\").val(),seen:!1};a.indexOf(e.youtubeId)>-1&&(e.seen=!0),e.valid&&n.push(e)}),o(n.length>0?n.reverse():[])})})}loadAllVideos(){return new Promise((l,n)=>{i.database().ref(\"/videos\").orderByChild(\"datePublication\").once(\"value\").then(n=>{let e=[],t=[];n.forEach(function(l){var n={key:l.key,id:l.child(\"id\").val(),title:l.child(\"title\").val(),youtubeId:l.child(\"youtubeId\").val(),urlImage:l.child(\"urlImage\").val(),datePublication:l.child(\"datePublication\").val(),description:l.child(\"description\").val(),importUser:l.child(\"importUser\").val(),topVideo:l.child(\"topVideo\").val(),type:l.child(\"type\").val(),valid:l.child(\"valid\").val(),dateAdd:l.child(\"dateAdd\").val(),seen:!1};n.valid&&(e.push(n),n.topVideo&&t.push(n))}),e.length>0?(this.allVideos=e,this.topVideos=t,this.allVideos.reverse(),l(this.allVideos)):l(null)})})}addToVideos(l){this.allVideos.unshift(l)}setVideos(l){this.allVideos=l;for(let n of this.allVideos)\"milonga\"==n.type&&this.allMilongas.push(n),\"vals\"==n.type&&this.allVals.push(n),\"other\"==n.type&&this.allOthers.push(n),\"lesson\"==n.type&&this.allLessons.push(n)}getAllVideos(){return this.allVideos}presentLoading(l){return s(this,void 0,void 0,function*(){let n=yield this.loadingCtrl.create({message:l,duration:500});yield n.present()})}getTopvideos(l){return s(this,void 0,void 0,function*(){return 0==this.topVideos.length&&(yield this.getVideos(null,null,0,!0).then(l=>{this.topVideos=l})),this.topVideos})}setTopVideos(l){this.topVideos=l}addTopVideo(l){this.presentLoading(\"Setting as a top video\"),l.topVideo=1,i.database().ref(`/videos/${l.key}`).set(l),this.topVideos.unshift(l)}removeTopVideo(l){l.topVideo=0,i.database().ref(`/videos/${l.key}`).set(l)}playVideo(l){l.seen=!0,this.profileService.setVideoSeen(l),window.open(\"https://www.youtube.com/watch?v=\"+l.youtubeId)}setType(l,n){return l.type=n,this.maestroService.getMaestros().forEach(e=>{this.findVideo(l,\"maestros/\"+e.key+\"/videos\",\"setType\",n).then()}),this.findVideo(l,\"videos\",\"setType\",n).then(),!0}deleteVideo(l){this.maestroService.getMaestros().forEach(n=>{this.findVideo(l,\"maestros/\"+n.key+\"/videos\",\"delete\",null).then()}),this.deleteGeneralVideo(l)}deleteGeneralVideo(l){i.database().ref(\"videos/\"+l.key).set(null),i.database().ref(\"/videos-deleted/\").push(l.youtubeId)}getDeletedVideos(){return s(this,void 0,void 0,function*(){var l=Array();return(yield i.database().ref(\"videos-deleted\").once(\"value\")).forEach(function(n){l.push(n.val())}),l})}findVideo(l,n,e,t){return new Promise((o,u)=>{i.database().ref(n).orderByChild(\"youtubeId\").equalTo(l.youtubeId).once(\"value\").then(o=>{o.forEach(function(o){\"delete\"==e&&(l.valid=0,i.database().ref(n+\"/\"+o.key).set(l)),\"setType\"==e&&(l.type=t,i.database().ref(n+\"/\"+o.key).set(l))})})})}}r.ngInjectableDef=a.Q({factory:function(){return new r(a.U(t.Gb),a.U(o.a),a.U(u.a),a.U(t.Kb))},token:r,providedIn:\"root\"})}}]);","extractedComments":[]}